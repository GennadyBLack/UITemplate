(function(e,o){"object"===typeof exports&&"object"===typeof module?module.exports=o(require("vue")):"function"===typeof define&&define.amd?define([],o):"object"===typeof exports?exports["rdbxxx"]=o(require("vue")):e["rdbxxx"]=o(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var o={203:function(o){o.exports=e}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var l=t[e]={exports:{}};return o[e](l,l.exports,n),l.exports}!function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}();var r={};return function(){if(n.r(r),n.d(r,{Modal:function(){return i},useClickOutside:function(){return d}}),"undefined"!==typeof window){var e=window.document.currentScript,o=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var t=n(203);function l(e){const o=(0,t.getCurrentInstance)();if(!o)throw new Error({message:"Нельзя меен"});o.render=e}const a=({name:e,closeOnDestroy:o=!0,stretch:n=!1,style:r={},overflow:l})=>{const a=(0,t.ref)({}),{uid:c}=(0,t.getCurrentInstance)(),u=(0,t.ref)(!1),d=({options:o={}}={})=>{const t=window?.matchMedia("(max-width: 450px)"),u=Object.keys(a?.value)?.length;try{a.value[e??c]={open:!0,stretch:n,styles:{zIndex:u?100*u:100,...r},isMobile:t,...o},l&&i()}catch(d){console.error(d)}},i=()=>{document.body.style="overflow:hidden",u.value=!1},s=()=>{document.body.style="overflow:auto",u.value=!0},f=()=>{u.value?s():i()},p=()=>{try{a.value[e??c]=!1,s()}catch(o){console.error(o)}},v=({options:o={}}={})=>{try{a.value[e??c]=a?.value?.[e??c]?.open?{}:{open:!0,stretch:n,order:a?.value?.length??1,...o}}catch(t){console.error(t)}};(0,t.onUnmounted)((()=>{try{p()}catch(e){console.error(e)}})),(0,t.onBeforeUnmount)((()=>{try{if(o){const o={};Object.entries(a.value).forEach((([t,n])=>{t!==e&&(o[t]=n)})),a.value={}}}catch(t){console.error(t)}}));const y=(0,t.computed)((()=>{try{return a?.value?.[e??c]?.open?a?.value?.[e??c]?.styles:{}}catch(o){console.error(o)}})),m=(0,t.computed)((()=>{try{return a?.value?.[e??c]?.open}catch(o){console.error(o)}}));return{styles:y,modalsList:a,isOpen:m,close:p,open:d,toggle:v,overflowToggle:f}};var c=a;function u(e,o,n){(0,t.isRef)(e)?(0,t.watch)(e,((e,t)=>{t?.removeEventListener(o,n),e?.addEventListener(o,n)})):(0,t.onMounted)((()=>{e.addEventListener(o,n)})),(0,t.onBeforeUnmount)((()=>{(0,t.unref)(e)?.removeEventListener(o,n)}))}function d(e,o){const n="pointerdown";if("undefined"===typeof window||!window)return;const r=n=>{const r=(0,t.unref)(e);r&&(r===n.target||n.composedPath().includes(r)||o(n))};return u(window,n,r)}var i=(0,t.defineComponent)({props:{name:{type:String,default:null},position:{type:String,default:"center"},prefix:{type:String,default:"default"},loading:{type:Boolean,default:!1},style:{type:Object,default:{}},hover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0},interactive:{type:Boolean,default:!0},overflow:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!1},stiky:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},placement:{type:String,default:"body"},teleport:{type:Boolean,default:!0},animation:{type:String,default:"bounce",validator:e=>["bounce","fade"].includes(e)}},setup(e,{slots:o}){const n=(0,t.computed)((()=>({wrapper:`${e?.prefix}-modal-${e?.name} ${e?.prefix}-modal   ${e?.position}-position  loading-modal-${e?.loading}`,shadow:""+(e?.shadow?"modal-background-shadow":"modal-background"),modal_wrapper:`${e?.shadow?"modal-background-shadow":"modal-background"}  ${e?.prefix}-modal-${e?.name} ${e?.prefix}-modal`,close:`${e?.prefix}-close`,content:`${e?.prefix}-content content-position--${e?.position} ${e?.fullScreen&&"full-screen"}`,toggler:`${e?.prefix}-toggler`}))),{isOpen:r,close:a,styles:u,open:i,modalsList:s}=c({...e}),f=(0,t.ref)(null);(0,t.watchEffect)((()=>{e?.interactive&&d(f,a)})),l((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("div",{class:n.value.wrapper,style:u},[(0,t.createVNode)("div",{class:n?.value.toggler,onMouseOver:()=>{e?.hover&&i()},onClick:i,onFocus:i},[o?.default?.()]),(0,t.createVNode)((0,t.resolveComponent)("Teleport"),{to:e.placement,disabled:!e.teleport},{default:()=>[(0,t.createVNode)((0,t.resolveComponent)("Transition"),{name:e?.animation},{default:()=>[r.value&&(0,t.createVNode)("div",{class:n.value.modal_wrapper},[(0,t.createVNode)("div",{class:n?.value.content,ref:f,style:u,onKeyUp:a},[o?.close_btn_right?.(),o?.content?.(),o?.close_btn_left?.()])])]})]})])])))}})}(),r}()}));
//# sourceMappingURL=rdbxxx.umd.min.js.map